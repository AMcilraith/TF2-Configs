// ====================================================
// TF2 ULTRA GRAPHICS CONFIGURATION
// Maximum quality graphics with full mod support
// Optimized for custom skins, weapons, and cosmetics
// ====================================================
//
// Launch options:
// Fullscreen: -dxlevel 95 -full -console -novid
// Windowed:   -dxlevel 95 -windowed -console -noborder -novid
//
// Note: DXLevel 95 provides best mod compatibility
// ====================================================

// -----------------------------
// FPS Settings
// -----------------------------
sv_cheats 1                               // Allows advanced graphics settings (for demos/recording)
cl_showfps 0
fps_max 0

// -----------------------------
// Graphical Settings
// -----------------------------
fov_desired 90
viewmodel_fov 70
cl_ejectbrass 1
cl_new_impact_effects 1
cl_hud_playerclass_use_playermodel 1
cl_burninggibs 1
cl_detaildist 8096
cl_detailfade 0
cl_maxrenderable_dist 8096                // Maximum rendering distance
cl_phys_props_max 1024
cl_ragdoll_collide 1
cl_drawmonitors 1
cl_jiggle_bone_framerate_cutoff 67
lod_transitiondist 6400
func_break_max_pieces -1

// -----------------------------
// Material Settings (Mod-Optimized)
// -----------------------------
mat_phong 1                               // Required for proper lighting on models
mat_specular 1                            // CRITICAL: Required for shiny surfaces
mat_bumpmap 1                             // CRITICAL: Required for normal maps
mat_picmip -1                             // Highest texture quality (-1 works with sv_cheats 1)
mat_compressedtextures 1                  // Compressed textures (0 can cause crashes)
mat_filtertextures 1                      // Smooth texture filtering
mat_filterlightmaps 1                     // Smooth lightmap filtering
mat_trilinear 1                           // Best texture filtering
mat_forceaniso 16                         // Maximum anisotropic filtering
mat_antialias 8                           // 8x MSAA
mat_aaquality 2                           // Best AA quality
mat_software_aa_strength 1                // Subtle software AA
mat_software_aa_quality 1                 // Software AA for edges
mat_software_aa_blur_one_pixel_lines 0.5
mat_software_aa_edge_threshold 0.8
mat_software_aa_strength_vgui 1           // Smooth HUD/menus
mat_use_compressed_hdr_textures 1         // Uncompressed HDR for quality
mat_hdr_level 2                           // Full HDR
mat_hdr_enabled 1                         // Enable HDR
mat_colorcorrection 1                     // Color correction for better visuals
mat_colcorrection_disableentities 0       // Apply color correction to models
mat_disable_bloom 0                       // Enable bloom effects
mat_bloomscale 1                          // Bloom intensity
mat_disable_fancy_blending 0              // Enable fancy blending
mat_disable_lightwarp 0                   // Enable lightwarp (better lighting on models)
mat_parallaxmap 1                         // Parallax mapping for depth
mat_reducefillrate 0                      // Don't reduce quality
mat_reduceparticles 0                     // Full particle quality
mat_envmapsize 512                        // High-res environment maps
mat_envmaptgasize 512
mat_wateroverlaysize 512                  // High-res water
mat_viewportscale 1                       // Native resolution rendering
mat_viewportupscale 1                     // No upscaling
mat_postprocess_x 8                       // High post-processing quality
mat_postprocess_y 8
mat_monitorgamma 2.2                      // Standard gamma
mat_motion_blur_enabled 0                 // Disable motion blur
mat_motion_blur_forward_enabled 0
mat_motion_blur_strength 0
mat_max_worldmesh_vertices 65536          // High mesh detail
mat_vsync 0                               // Disable vsync for responsiveness

// -----------------------------
// Decals & Details
// -----------------------------
mp_decals 4096                            // Maximum decals
r_decals 4096
r_decalstaticprops 1                      // Decals on static props
r_decal_cullsize 1                        // Small decal cull size (more decals visible)

// -----------------------------
// Rendering Settings (Enhanced for Mods)
// -----------------------------
mp_usehwmmodels 1                         // High-quality character models
mp_usehwmvcds 1                           // High-quality facial animations
r_lod 0                                   // Maximum model detail
r_rootlod 0                               // No LOD reduction
r_maxmodeldecal 4096                      // High decal quality on models
r_avglight 3                              // Average lighting detail
r_radiosity 3                             // Radiosity lighting
r_eyes 1                                  // Enable eye rendering
r_teeth 1                                 // Enable teeth rendering
r_flex 1                                  // Enable facial flexes
r_eyegloss 1                              // Glossy eyes
r_eyemove 1                               // Eye movement
r_eyeshift_x 0
r_eyeshift_y 0
r_eyeshift_z 0
r_eyesize 0
r_eyeglintlodpixels 4                     // Eye glint detail
r_shadowmaxrendered 1024                  // Many shadows
r_shadowrendertotexture 1                 // Shadow textures
r_shadows 1                               // Enable shadows
r_flashlightdepthtexture 1                // High-quality flashlight
r_3dsky 1                                 // 3D skybox
r_skybox 1                                // Enable skybox rendering
r_dynamic 1                               // Dynamic lighting (important for mods!)
r_maxdlights 32                           // Maximum dynamic lights
r_worldlights 4                           // World light sources
r_ambientboost 1                          // Ambient light boost
r_ambientfactor 1                         // Ambient light factor
r_ambientmin 0.3                          // Minimum ambient light
r_rimlight 1                              // Rim lighting on models
r_drawmodeldecals 1                       // Model decals
r_drawdetailprops 1                       // Detail props
r_drawflecks 1                            // Impact flecks
r_waterdrawreflection 1                   // Water reflections
r_waterdrawrefraction 1                   // Water refraction
r_waterforceexpensive 1                   // Expensive water
r_waterforcereflectentities 1             // Reflect entities in water
r_rainradius 2250                         // Rain effects
r_rainsplashpercentage 100
r_pixelfog 1                              // Pixel fog
r_dopixelvisibility 1                     // Pixel visibility for lights
r_staticprop_lod -1                       // No static prop LOD

// -----------------------------
// Stability Settings
// -----------------------------
in_usekeyboardsampletime 0
mat_clipz 1
mat_forcehardwaresync 0
mat_levelflush 1
mat_vsync 0
mat_shadowstate 1                         // Enable shadow state
r_fastzreject 0
r_occludeemaxarea 0                       // No occlusion culling (see all models)
r_occlusion 1                             // Occlusion system
ai_expression_optimization 0
fast_fogvolume 0
mod_load_anims_async 0
mod_load_mesh_async 0
mod_load_vcollide_async 0
mod_touchalldata 1                        // Touch all model data
mod_forcetouchdata 1                      // Force touch data

// -----------------------------
// Sound Settings
// -----------------------------
dsp_enhance_stereo 1
dsp_slow_cpu 0
snd_async_fullyasync 1
snd_pitchquality 1
snd_spatialize_roundrobin 0

// -----------------------------
// Threading Settings
// -----------------------------
mat_queue_mode 2
cl_threaded_bone_setup 1
cl_threaded_client_leaf_system 0
r_queued_decals 1
r_queued_ropes 1
r_queued_post_processing 1
r_threaded_client_shadow_manager 1
r_threaded_particles 1
r_threaded_renderables 1

// -----------------------------
// Ragdolls & Physics
// -----------------------------
cl_ragdoll_fade_time 15                   // Ragdolls stay visible
cl_ragdoll_forcefade 0                    // Don't force fade
cl_ragdoll_physics_enable 1               // Ragdoll physics
g_ragdoll_fadespeed 600
g_ragdoll_lvfadespeed 100
ragdoll_sleepaftertime 5.0
cl_phys_props_enable 1                    // Physics props
violence_ablood 1                         // Blood effects
violence_hblood 1
violence_agibs 1                          // Gibs
violence_hgibs 1

// -----------------------------
// Particles & Effects
// -----------------------------
tf_particles_disable_weather 0            // Enable weather particles
tracer_extra 1                            // Extra tracers
glow_outline_effect_enable 1              // Glow outlines
glow_outline_width 6
mat_motion_blur_percent_of_screen_max 0   // No motion blur

// -----------------------------
// Ropes
// -----------------------------
rope_averagelight 1                       // Average lighting on ropes
rope_collide 1                            // Rope collision
rope_rendersolid 1                        // Solid rope rendering
rope_smooth 1                             // Smooth ropes
rope_subdiv 7                             // High rope subdivision
rope_wind_dist 1000                       // Rope wind distance

// -----------------------------
// Memory & Cache (For Mod Loading)
// -----------------------------
mem_max_heapsize 4096                     // Large heap for custom content
datacachesize 512                         // Large data cache
r_hunkalloclightmaps 0                    // Better memory allocation
mat_bufferprimitives 1                    // Buffer primitives

// -----------------------------
// Preloading
// -----------------------------
cl_forcepreload 1                         // Force preload all content (fixes missing textures)
cl_loadondemand_default 0

// -----------------------------
// UI Settings
// -----------------------------
cl_ask_blacklist_opt_out 1
cl_ask_favorite_opt_out 1
sb_dontshow_maxplayer_warning 1
tf_explanations_backpackpanel 1
tf_explanations_charinfo_armory_panel 1
tf_explanations_charinfopanel 1
tf_explanations_craftingpanel 1
tf_explanations_discardpanel 1
tf_explanations_store 1
tf_training_has_prompted_for_forums 1
tf_training_has_prompted_for_loadout 1
tf_training_has_prompted_for_offline_practice 1
tf_training_has_prompted_for_options 1
tf_training_has_prompted_for_training 1
hud_fastswitch 1

// -----------------------------
// Console Echo
// -----------------------------
echo "====================================================="
echo " Ultra Graphics Config Loaded"
echo "====================================================="